---
layout: post
title: 搜索引擎原理
date: 2020-3-25
tags: ML
---

## 搜索引擎原理

网页消重算法

算法一：当两个网页的散列值（占16个字节）相同时，就认为二者是互为



SIM能同时兼顾向量的夹角和长度两个因素，当两个网页丝毫
$$
SIM = (\frac{(|w_i-w_j|)}{|w_i|^2+|w_j|^2})^2
$$
转载率

向量偏差度阈值$\delta$取值与转载率的关系



网页去重：

Jaccard：

Simhash算法：输入作为一个二维集合，集合中包含N个字符串及字符串对应的权重，输出是一个M位的二进制签名串。（如果在最后的计算中我们得到的数值是0的话，那么我我们就可以自己去定义这么一个，最后等于0/1全部按照自己的定义）



爬虫协议：一个友好的爬虫引擎爬虫，需要遵循爬虫协议在该网址的robots.txt

网站爬虫策略：

· 深度优先：从一个链接出发然后发现该网页中的链接，继续下去。如果不能前进，那么后退一步然后再次前进。

无向图深度优先，有向图深度优先。

· 广度优先遍历：

无向图广度优先，有向图广度优先。

## 构建索引机制

​	搜索引擎的索引类似于人的反映中枢，

索引结构：正向索引，倒排索引

倒排索引中间存储了关键词在文档中的位置 优点，缺点

## 压缩索引

文档编号差值化，文档编码差值化表示基于第一个元素，将后买呢文档编码按照与第一个文档的差值进行存储。通过差值计算，可以有效地将大数值转化成小数值，有助于增加数据的压缩率。



哈夫曼编码，将词频进行制作哈夫曼树，也就是最优二叉树，然后得到对应的哈夫曼编码，然后词频最高的可以得到最短的哈夫曼编码。



第三种：。

## 倒排索引更新

完全更新：几乎利用索引版本将过去的索引完全替换，无论索引中发生变化的内容多或者少，新索引完全替代旧索引。

合并更新策略：只更改部分的内容。

文档索引分布式存储：

![image-20200327083845814](/Users/maxuan/Library/Application Support/typora-user-images/image-20200327083845814.png)

字典树索引：



不安全信息过滤：

AC算法，三个核心函数：

success：成功跳转到另外一个状态。failure：不可顺着字符串跳转的特定节点。enter：命中一个特定的模式串。

构造跳转表

构造失败表：

![image-20200401101859310](/Users/maxuan/Library/Application Support/typora-user-images/image-20200401101859310.png)

缓存处理：

LFU、LRU、FIFO

数据同步：



文本纠错算法：n-gram --》 bi-gram

纠错功能：字符串编辑距离计算很有可能会考。



结果显示算法：

滑动窗口法，改进的滑动窗口法。

